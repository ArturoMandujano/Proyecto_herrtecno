# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:   
 # Triggers the workflow on push or pull request events but only for the "main" branch
   push:
     branches: [ "main" ]   
   pull_request:
     branches: [ "main" ]

jobs:    
 build:
    runs-on: windows-latest
    steps:
     - uses: actions/checkout@v1
     - uses: azure/login@v1
       with:
         creds: ${<!-- -->{ secrets.AZURE_CREDENTIALS }}
        
     - uses: azure/sql-action@v1
       with:
        server-name: 'servername.database.windows.net'
        connection-string: ${<!-- -->{â€¯secrets.AZURE_SQL_CONNECTION_STRING }}
        sql-file: './test_sql_script.sql'
     # Azure logout 
     - name: logout
       run: |
            az logout
